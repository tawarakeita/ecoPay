<h1 class="text-2xl md:text-3xl font-bold text-center mt-8 mb-6">ポイント履歴</h1>

<div class="overflow-x-auto flex justify-center">
  <table class="min-w-[90vw] border border-gray-300 rounded-lg shadow-lg bg-white text-xs md:text-base">
    <thead>
      <tr class="bg-green-100 text-green-900">
        <th class="px-2 md:px-6 py-2 md:py-3 border-r border-gray-300 font-semibold">種別</th>
        <th class="px-2 md:px-6 py-2 md:py-3 border-r border-gray-300 font-semibold">ポイント</th>
        <th class="px-2 md:px-6 py-2 md:py-3 border-r border-gray-300 font-semibold">協賛店</th>
        <th class="px-2 md:px-6 py-2 md:py-3 border-r border-gray-300 font-semibold">日時</th>
        <th class="px-2 md:px-6 py-2 md:py-3 font-semibold"></th>
      </tr>
    </thead>
    <tbody>
      <% @point_transactions.each do |point_transaction| %>
        <tr class="hover:bg-green-50 transition">
          <td class="px-2 md:px-6 py-2 md:py-4 border-r border-gray-300 text-center">
            <% if point_transaction.transaction_type == "earn" %>
              <span class="inline-block px-2 py-1 rounded bg-blue-100 text-blue-800 text-xs font-bold">取得</span>
            <% elsif point_transaction.transaction_type == "spend" %>
              <span class="inline-block px-2 py-1 rounded bg-red-100 text-red-800 text-xs font-bold">利用</span>
            <% end %>
          </td>
          <td class="px-2 md:px-6 py-2 md:py-4 border-r border-gray-300 text-center font-bold"><%= point_transaction.amount %> pt</td>
          <td class="px-2 md:px-6 py-2 md:py-4 border-r border-gray-300 text-center"><%= point_transaction.merchant.name %></td>
          <td class="px-2 md:px-6 py-2 md:py-4 border-r border-gray-300 text-center"><%= point_transaction.created_at.in_time_zone("Tokyo").strftime("%Y/%m/%d %H:%M") %></td>
          <td class="px-2 md:px-6 py-2 md:py-4 text-center">
            <%= link_to "詳細", point_transaction, class: "text-green-700 underline hover:text-green-900" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
